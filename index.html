<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://docs.dhtmlx.com/scheduler/codebase/dhtmlxscheduler_material.css?v=20180517">
    <script src="https://docs.dhtmlx.com/scheduler/codebase/dhtmlxscheduler.js?v=20180517"></script>
    <script src="https://docs.dhtmlx.com/scheduler/codebase/ext/dhtmlxscheduler_timeline.js?v=20180517"></script>
    <script>

        function init() {

            scheduler.locale.labels.matrix_tab = "Matrix"
            scheduler.locale.labels.section_custom="Section";
            scheduler.config.details_on_create=true;
            scheduler.config.details_on_dblclick=true;
            scheduler.config.xml_date="%Y-%m-%d %H:%i";
            scheduler.config.multi_day = true;
            brief_mode = true;


            //===============
            //Configuration
            //===============
            var sections=[
                {key:1, label:"Section A"},
                {key:2, label:"Section B"},
                {key:3, label:"Section C"},
                {key:4, label:"Section D"}
            ];

            scheduler.createTimelineView({
                name:	"matrix",
                x_unit:	"day",
                x_date:	"%d %M",
                x_step:	1,
                x_size: 15,
                y_unit:	sections,
                y_property:	"section_id"
            });

            //===============
            //Customization
            //===============
            scheduler.templates.matrix_cell_class = function(evs,x,y){
                if (!evs) {
                    var day = x.getDay();
                    return (day==0 || day == 6) ? "yellow_cell" : "white_cell";
                }
                if (evs.length<3) return "green_cell";
                if (evs.length<5) return "yellow_cell";
                return "red_cell";
            };

            scheduler.templates.matrix_scalex_class = function(date){
                if (date.getDay()==0 || date.getDay()==6)  return "yellow_cell";
                return "";
            }


            //===============
            //Data loading
            //===============
            scheduler.config.lightbox.sections=[
                {name:"description", height:130, map_to:"text", type:"textarea" , focus:true},
                {name:"custom", height:23, type:"select", options:sections, map_to:"section_id" },
                {name:"time", height:72, type:"time", map_to:"auto"}
            ]

            scheduler.init('scheduler_here',new Date(2017,5,30),"matrix");
            scheduler.load("./data/units.json", "json");
        }
    </script>
</head>
<body onload="init()">

</body>
</html>